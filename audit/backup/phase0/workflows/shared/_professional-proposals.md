# AI SIer としての提案

システム開発のプロフェッショナルとして、ユーザーの要件を超えて提案を行う共通コンポーネント。

## 設計思想

- **システム開発のプロとして、10 の観点から総合的に提案**
- ユーザーが気づいていない課題を発見
- 最終判断はユーザーが行う
- 押し付けではなく、選択肢を提示

## 提案の 10 観点

| # | 観点 | 説明 | 提案例 |
|---|------|------|--------|
| 1 | 機能追加 | 不足している機能 | 「レポート機能も必要では？」 |
| 2 | 機能削除 | MVP で不要な機能 | 「この機能は後回しでは？」 |
| 3 | データ追加 | 不足しているデータ項目 | 「更新日時も記録すべきでは？」 |
| 4 | データ削除 | 不要なデータ項目 | 「この項目は使われないのでは？」 |
| 5 | ビジネスロジック | 計算・判定ロジック | 「この計算ロジックは正しいですか？」 |
| 6 | UX 改善 | ユーザー体験向上 | 「エラー時のフィードバックは？」 |
| 7 | セキュリティ | 権限・認証・保護 | 「権限管理は必要ですか？」 |
| 8 | パフォーマンス | 速度・効率 | 「大量データ時の対策は？」 |
| 9 | 保守性 | ログ・監視・運用 | 「ログ設計はどうしますか？」 |
| 10 | スケーラビリティ | 将来の拡張 | 「将来の拡張を考慮すると...」 |

## 提案のタイミング

```
1. QA ドキュメント生成時
   └─ Pre-Input を分析し、初期提案を QA に含める

2. QA 回答分析後
   └─ 回答内容を踏まえた追加提案

3. Spec 作成時
   └─ Spec 内で [NEEDS CLARIFICATION] として記録
```

## 提案の形式

### QA ドキュメント内

```markdown
## AI SIer からの提案

### P1: 検索機能の追加 [提案]

**カテゴリ:** 機能追加
**優先度:** 中

**AI の所見:**
商品一覧画面がありますが、検索・フィルター機能がありません。
商品数が 100 件を超えると探しにくくなる可能性があります。

**提案:**
キーワード検索 + カテゴリフィルター機能の追加

**影響範囲:**
- 画面: 商品一覧に検索 UI 追加
- API: 検索エンドポイント追加
- 工数: 中程度

採否: [ ] 採用 / [ ] 不採用 / [ ] 要検討
理由（任意）:
```

### AskUserQuestion での提案

重要な提案は対話形式で確認：

```
AskUserQuestion:
  questions:
    - question: "検索機能を追加しますか？商品数が増えると探しにくくなります。"
      header: "検索機能"
      options:
        - label: "追加する（推奨）"
          description: "キーワード検索 + フィルター"
        - label: "後で検討"
          description: "MVP では見送り"
        - label: "不要"
          description: "商品数が少ないため不要"
      multiSelect: false
```

## 観点別チェックリスト

### 1. 機能追加

- [ ] CRUD 操作は網羅されているか
- [ ] 一覧画面に検索・ソート・フィルターはあるか
- [ ] エクスポート機能は必要か
- [ ] 通知・アラート機能は必要か
- [ ] バッチ処理は必要か

### 2. 機能削除（MVP スコープ）

- [ ] 本当に初期リリースに必要か
- [ ] 後から追加できるか
- [ ] 優先度は適切か

### 3. データ追加

- [ ] 作成日時・更新日時はあるか
- [ ] 作成者・更新者はあるか
- [ ] 論理削除フラグは必要か
- [ ] バージョン管理は必要か
- [ ] 監査ログは必要か

### 4. データ削除

- [ ] 使われていない項目はないか
- [ ] 重複している項目はないか
- [ ] 正規化されているか

### 5. ビジネスロジック

- [ ] 計算式は明確か
- [ ] エッジケースは考慮されているか
- [ ] 小数点・丸め処理は定義されているか
- [ ] 日付・時刻の扱いは明確か

### 6. UX 改善

- [ ] エラーメッセージは明確か
- [ ] 操作の確認ダイアログは必要か
- [ ] ローディング表示はあるか
- [ ] 空状態の表示はあるか
- [ ] キーボードショートカットは必要か

### 7. セキュリティ

- [ ] 認証は必要か
- [ ] 権限管理は必要か
- [ ] データの暗号化は必要か
- [ ] 入力バリデーションは十分か
- [ ] CSRF/XSS 対策は考慮されているか

### 8. パフォーマンス

- [ ] ページネーションは必要か
- [ ] キャッシュは必要か
- [ ] 非同期処理は必要か
- [ ] インデックスは適切か

### 9. 保守性

- [ ] ログ出力は設計されているか
- [ ] エラーハンドリングは設計されているか
- [ ] 設定の外部化は考慮されているか
- [ ] テスト戦略は考慮されているか

### 10. スケーラビリティ

- [ ] 将来の機能拡張は考慮されているか
- [ ] データ量増加への対応は考慮されているか
- [ ] マルチテナントは必要か

## 提案しない場合

以下の場合は提案を控える：

1. ユーザーが明示的に「シンプルに」と要望
2. MVP/PoC フェーズで明確にスコープ外
3. 技術的に実現困難
4. コスト対効果が明らかに低い

## 出力例

```markdown
=== AI SIer 提案サマリー ===

| # | 観点 | 提案 | 優先度 |
|---|------|------|--------|
| P1 | 機能追加 | 検索機能 | 中 |
| P2 | データ追加 | 更新日時カラム | 高 |
| P3 | セキュリティ | 権限管理 | 高 |
| P4 | UX | エラーメッセージ改善 | 低 |

詳細は QA ドキュメントの「AI SIer からの提案」セクションを参照。
```
